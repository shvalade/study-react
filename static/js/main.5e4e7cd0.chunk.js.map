{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/MoviePages.jsx","components/MovieWillWatchItem.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","props","state","willWatch","this","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","getClassLink","console","log","MoviePages","currentPage","updateCurrPage","MovieWillWatchItem","movieTitle","movieRating","App","updateMovies","movies","filter","item","id","updateMoviesToWillWatch","moviesWillWatch","updatemoviesWillWatch","value1","value2","page","getMovies","prevProps","prevState","fetch","then","response","json","data","results","map","key","find","x","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5e4e7cd0.chunk.js","sourcesContent":["import React from \"react\"\n\nclass MovieItem extends React.Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      willWatch: props.willWatch\n    };\n  }\n\n  render(){\n    const {\n      movie,\n      removeMovie,\n      addMovieToWillWatch,\n      removeMovieFromWillWatch\n    } = this.props;\n\n    const clickHandRemMovie = value => () => {\n      this.setState({ willWatch: false });\n      removeMovieFromWillWatch(movie);\n    }\n\n    const clickHandAddMovie = value => () => {\n      this.setState({ willWatch: true });\n      addMovieToWillWatch(movie);\n    }\n\n    const clickHandDelMovie = value => () => {\n      removeMovieFromWillWatch(movie);\n      removeMovie(movie);\n    }\n\n    return (\n     <div className=\"card\">\n      <img\n       className=\"card-img-top\"\n       src={`https://image.tmdb.org/t/p/w500/${movie.backdrop_path ||\n             movie.poster_path}`}\n       alt=\"\"\n      />\n      <div className=\"card-body\">\n        <h6 className=\"card-title\">{movie.title}</h6>\n        <div className=\"d-flex justify-content-between align-items-center\">\n           <p className=\"mb-0\">Rating: {movie.vote_average}</p>\n           {this.state.willWatch ? (\n             <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={clickHandRemMovie()}\n             >\n              Remove Will Watch\n             </button>\n           ) : (\n             <button\n               type=\"button\"\n               className=\"btn btn-secondary\"\n               onClick={clickHandAddMovie()}\n             >\n               Add Will Watch\n             </button>\n           )}\n        </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-outline-danger btn-sm\"\n            onClick = {clickHandDelMovie()}\n          >\n            Delete movie\n          </button>\n      </div>\n     </div>\n   )\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\"\n\nclass MovieTabs extends React.Component{\n\n  render() {\n    const { sort_by, updateSortBy } = this.props\n\n    const handleClick = value => () => value !== sort_by ? updateSortBy(value) : () => {return};\n\n    const getClassLink = value => {\n      console.log(\"change!\");\n      return `nav-link ${ sort_by === value ? \"active\" : \"\" }`\n    };\n\n    console.log(\"MovieTabs render!\");\n\n    return (\n      <ul className=\"tabs nav nav-pills\">\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className = { getClassLink(\"popularity.desc\") }\n              onClick = { handleClick(\"popularity.desc\") }\n            >\n              Popularity desc\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className={ getClassLink(\"revenue.desc\") }\n              onClick={ handleClick(\"revenue.desc\") }\n            >\n              Revenue desc\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className={ getClassLink(\"vote_average.desc\") }\n              onClick={ handleClick(\"vote_average.desc\") }\n            >\n              Vote average desc\n            </div>\n          </div>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default MovieTabs\n","import React from \"react\"\n\nclass MoviePages extends React.Component{\n\n\n\n  render() {\n    const {\n      currentPage,\n      updateCurrPage\n    } = this.props\n\n    const getClass = value => {\n      return `nav-link ${ value > 1 ? \"active\" : \"disabled\"}`\n    }\n\n    const clickHandPrev = value => () => {\n      if(currentPage > 1){\n        updateCurrPage(currentPage - 1);\n      }\n    }\n\n    const clickHandNext = value => () => {\n      updateCurrPage(currentPage + 1);\n    }\n\n    return (\n      <ul className=\"tabs nav nav-pills\">\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className = {getClass(currentPage)}\n              onClick = {clickHandPrev()}\n            >\n              Prev\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div className=\"nav-link disabled\">\n              Page #{currentPage}\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className=\"nav-link active\"\n              onClick={clickHandNext()}\n            >\n              Next\n            </div>\n          </div>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default MoviePages\n","import React from \"react\"\n\nclass MovieWillWatchItem extends React.Component {\n\n  render() {\n    const {movieTitle, movieRating} = this.props;\n\n    return(\n      <div className=\"d-flex justify-content-between\">\n        <div>\n          {movieTitle}\n        </div>\n        <div>\n          {movieRating}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MovieWillWatchItem\n","import React from 'react';\n// import { moviesData } from \"../moviesData\"\nimport MovieItem from \"./MovieItem\"\nimport { API_URL, API_KEY_3 } from \"../utils/api\"\nimport MovieTabs from \"./MovieTabs\"\nimport MoviePages from \"./MoviePages\"\nimport MovieWillWatchItem from \"./MovieWillWatchItem\"\n// console.log(moviesData);\n\n//UI = f(state, props)\n\nclass App extends React.Component {\n  constructor() {\n    super()\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"popularity.desc\",\n      page: 1\n    };\n    console.log(\"APP constuctor\");\n  }\n\n  componentDidMount() {\n    console.log(\"App didMount\");\n    this.getMovies();\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    console.log(\"App didUpdate\")\n\n    if (\n      prevState.sort_by !== this.state.sort_by ||\n      prevState.page !== this.state.page\n    ) {\n      console.log(\"Call API\");\n      this.getMovies();\n    }\n  }\n\n  getMovies() {\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`).then((response) => {\n      return response.json()\n    }).then((data) => {\n      this.setState({\n        movies: data.results\n      })\n    });\n  }\n\n  removeMovie = movie => {\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    //console.log(updateMovies);\n    this.setState({\n      movies: updateMovies\n    })\n  }\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesToWillWatch = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch: updateMoviesToWillWatch\n    });\n  };\n\n  removeMovieFromWillWatch = movie => {\n    const updatemoviesWillWatch = this.state.moviesWillWatch.filter((item) => {\n      return item.id !== movie.id;\n    })\n    this.setState({\n      moviesWillWatch: updatemoviesWillWatch\n    })\n  }\n\n  updateSortBy = (value1, value2 = 1) => {\n    this.setState({\n      sort_by: value1,\n      page: value2\n    })\n  }\n\n  updateCurrPage = value => {\n    this.setState({\n      page: value\n    })\n  }\n\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                  updateCurrPage={this.updateCurrPage}\n                />\n              </div>\n            </div>\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MoviePages\n                  currentPage={this.state.page}\n                  updateCurrPage={this.updateCurrPage}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n            { this.state.movies.map(movie => {\n              return (\n                <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      key={movie.id}\n                      willWatch={this.state.moviesWillWatch.find(\n                        x => x.id === movie.id\n                      )}\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                    />\n                </div>\n              );\n            })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <p>Will watch: {this.state.moviesWillWatch.length}</p>\n            <ul className=\"list-group\">\n            {\n              this.state.moviesWillWatch.map(movie => {\n                return (\n                  <li className=\"list-group-item\" key={movie.id}>\n                    <MovieWillWatchItem\n                      key={movie.id}\n                      movieTitle={movie.title}\n                      movieRating={movie.vote_average}\n                    />\n                  </li>\n                );\n              })\n            }\n          </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"10583ae2a082debca788c1b540672590\";\n\nexport const API_KEY_4 = \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxMDU4M2FlMmEwODJkZWJjYTc4OGMxYjU0MDY3MjU5MCIsInN1YiI6IjVlOTBhZDA5ZDM1ZGVhMDAxODc1Y2EwNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.e-CtgcgJ3swsScxuvD1hpSCsw9ZApiSC8Q23bidmaQc\";\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './stylesheets/index.scss';\nimport App from './components/App';\n// import * as serviceWorker from './serviceWorker';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render( <App />, document.getElementById('root') );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}