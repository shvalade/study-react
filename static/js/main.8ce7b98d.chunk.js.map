{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/MoviePages.jsx","components/MovieWillWatchItem.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","props","state","willWatch","this","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","getClassLink","console","log","MoviePages","currentPage","updateCurrPage","totalPages","getClassPrev","getClassNext","clickHandler","MovieWillWatchItem","movieTitle","movieRating","App","updateMovies","movies","filter","item","id","updateMoviesToWillWatch","moviesWillWatch","updatemoviesWillWatch","value1","value2","page","getMovies","prevProps","prevState","fetch","then","response","json","data","results","map","key","find","x","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8ce7b98d.chunk.js","sourcesContent":["import React from \"react\"\n\nclass MovieItem extends React.Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      willWatch: props.willWatch\n    };\n  }\n\n  render(){\n    const {\n      movie,\n      removeMovie,\n      addMovieToWillWatch,\n      removeMovieFromWillWatch\n    } = this.props;\n\n    const clickHandRemMovie = value => () => {\n      this.setState({ willWatch: false });\n      removeMovieFromWillWatch(movie);\n    }\n\n    const clickHandAddMovie = value => () => {\n      this.setState({ willWatch: true });\n      addMovieToWillWatch(movie);\n    }\n\n    const clickHandDelMovie = value => () => {\n      removeMovieFromWillWatch(movie);\n      removeMovie(movie);\n    }\n\n    return (\n     <div className=\"card\">\n      <img\n       className=\"card-img-top\"\n       src={`https://image.tmdb.org/t/p/w500/${movie.backdrop_path ||\n             movie.poster_path}`}\n       alt=\"\"\n      />\n      <div className=\"card-body\">\n        <h6 className=\"card-title\">{movie.title}</h6>\n        <div className=\"d-flex justify-content-between align-items-center\">\n           <p className=\"mb-0\">Rating: {movie.vote_average}</p>\n           {this.state.willWatch ? (\n             <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={clickHandRemMovie()}\n             >\n              Remove Will Watch\n             </button>\n           ) : (\n             <button\n               type=\"button\"\n               className=\"btn btn-secondary\"\n               onClick={clickHandAddMovie()}\n             >\n               Add Will Watch\n             </button>\n           )}\n        </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-outline-danger btn-sm\"\n            onClick = {clickHandDelMovie()}\n          >\n            Delete movie\n          </button>\n      </div>\n     </div>\n   )\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\"\n\nclass MovieTabs extends React.Component{\n\n  render() {\n    const { sort_by, updateSortBy } = this.props\n\n    const handleClick = value => () => value !== sort_by ? updateSortBy(value) : () => {return};\n\n    const getClassLink = value => {\n      console.log(\"change!\");\n      return `nav-link ${ sort_by === value ? \"active\" : \"\" }`\n    };\n\n    console.log(\"MovieTabs render!\");\n\n    return (\n      <ul className=\"tabs nav nav-tabs\">\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className = { getClassLink(\"popularity.desc\") }\n              onClick = { handleClick(\"popularity.desc\") }\n            >\n              Popularity desc\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className={ getClassLink(\"revenue.desc\") }\n              onClick={ handleClick(\"revenue.desc\") }\n            >\n              Revenue desc\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className={ getClassLink(\"vote_average.desc\") }\n              onClick={ handleClick(\"vote_average.desc\") }\n            >\n              Vote average desc\n            </div>\n          </div>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default MovieTabs\n","import React from \"react\"\n\nclass MoviePages extends React.Component{\n\n  render() {\n    const {\n      currentPage,\n      updateCurrPage,\n      totalPages\n    } = this.props\n\n    const getClassPrev = value => {\n      return `nav-link ${ value > 1 ? \"active\" : \"disabled\"}`\n    }\n\n    const getClassNext = value => {\n      return `nav-link ${ value < 500 ? \"active\" : \"disabled\"}`\n    }\n\n    const clickHandler = value => () => {\n      updateCurrPage(value);\n    }\n    // const clickHandPrev = value => (page) => {\n    //   if(page > currentPage){\n    //     updateCurrPage(currentPage + 1);\n    //   } else if (page < currentPage) {\n    //     updateCurrPage(currentPage - 1);\n    //   }\n    // }\n\n    const clickHandNext = value => () => {\n      updateCurrPage(currentPage + 1);\n    }\n\n    return (\n      <ul className=\"nav nav-pills\">\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className = {getClassPrev(currentPage)}\n              onClick = {clickHandler(1)}\n            >\n              First\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className = {getClassPrev(currentPage)}\n              onClick = {clickHandler(currentPage - 1)}\n            >\n              Prev\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div className=\"nav-link disabled\">\n              Page {`${currentPage}/${totalPages}`}\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className={getClassNext(currentPage)}\n              onClick={clickHandNext()}\n            >\n              Next\n            </div>\n          </div>\n        </li>\n        <li>\n          <div className=\"nav-item\">\n            <div\n              className = {getClassNext(currentPage)}\n              onClick = {clickHandler(totalPages)}\n            >\n              Last\n            </div>\n          </div>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default MoviePages\n","import React from \"react\"\n\nclass MovieWillWatchItem extends React.Component {\n\n  render() {\n    const {movieTitle, movieRating} = this.props;\n\n    return(\n      <div className=\"d-flex justify-content-between\">\n        <div>\n          {movieTitle}\n        </div>\n        <div>\n          {movieRating}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MovieWillWatchItem\n","import React from 'react';\n// import { moviesData } from \"../moviesData\"\nimport MovieItem from \"./MovieItem\"\nimport { API_URL, API_KEY_3 } from \"../utils/api\"\nimport MovieTabs from \"./MovieTabs\"\nimport MoviePages from \"./MoviePages\"\nimport MovieWillWatchItem from \"./MovieWillWatchItem\"\n// console.log(moviesData);\n\n//UI = f(state, props)\n\nclass App extends React.Component {\n  constructor() {\n    super()\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"popularity.desc\",\n      page: 1,\n      totalPages: 500\n    };\n    console.log(\"APP constuctor\");\n  }\n\n  componentDidMount() {\n    console.log(\"App didMount\");\n    this.getMovies();\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    console.log(\"App didUpdate\")\n\n    if (\n      prevState.sort_by !== this.state.sort_by ||\n      prevState.page !== this.state.page\n    ) {\n      console.log(\"Call API\");\n      this.getMovies();\n    }\n  }\n\n  getMovies() {\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`).then((response) => {\n      return response.json()\n    }).then((data) => {\n      this.setState({\n        movies: data.results\n      })\n    });\n  }\n\n  removeMovie = movie => {\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    //console.log(updateMovies);\n    this.setState({\n      movies: updateMovies\n    })\n  }\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesToWillWatch = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch: updateMoviesToWillWatch\n    });\n  };\n\n  removeMovieFromWillWatch = movie => {\n    const updatemoviesWillWatch = this.state.moviesWillWatch.filter((item) => {\n      return item.id !== movie.id;\n    })\n    this.setState({\n      moviesWillWatch: updatemoviesWillWatch\n    })\n  }\n\n  updateSortBy = (value1, value2 = 1) => {\n    this.setState({\n      sort_by: value1,\n      page: value2\n    })\n  }\n\n  updateCurrPage = value => {\n    this.setState({\n      page: value\n    })\n  }\n\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                  updateCurrPage={this.updateCurrPage}\n                />\n              </div>\n            </div>\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MoviePages\n                  currentPage={this.state.page}\n                  updateCurrPage={this.updateCurrPage}\n                  totalPages={this.state.totalPages}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n            { this.state.movies.map(movie => {\n              return (\n                <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      key={movie.id}\n                      willWatch={this.state.moviesWillWatch.find(\n                        x => x.id === movie.id\n                      )}\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                    />\n                </div>\n              );\n            })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <p>Will watch: {this.state.moviesWillWatch.length}</p>\n            <ul className=\"list-group\">\n            {\n              this.state.moviesWillWatch.map(movie => {\n                return (\n                  <li className=\"list-group-item\" key={movie.id}>\n                    <MovieWillWatchItem\n                      key={movie.id}\n                      movieTitle={movie.title}\n                      movieRating={movie.vote_average}\n                    />\n                  </li>\n                );\n              })\n            }\n          </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"10583ae2a082debca788c1b540672590\";\n\nexport const API_KEY_4 = \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxMDU4M2FlMmEwODJkZWJjYTc4OGMxYjU0MDY3MjU5MCIsInN1YiI6IjVlOTBhZDA5ZDM1ZGVhMDAxODc1Y2EwNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.e-CtgcgJ3swsScxuvD1hpSCsw9ZApiSC8Q23bidmaQc\";\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './stylesheets/index.scss';\nimport App from './components/App';\n// import * as serviceWorker from './serviceWorker';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render( <App />, document.getElementById('root') );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}